name: demo-vascomm-store
services:
  node:
    type: node:18
    run:
      - npm i -g pm2
    ports:
      - "3000:3000"
      - "5317:5317"
  php:
    type: php:8.0
    via: apache
    webroot: lumen-php/public
  database:
    type: mysql
  pma:
    type: phpmyadmin
  mailhog:
    type: mailhog
  swagger:
    type: nginx
    webroot: swagger
tooling:
  php:
    service: php
  composer:
    service: php
  npm:
    service: node
  npx:
    service: node
  pm2:
    service: node
proxy:
  node:
    - demo-vascomm-store.lndo.site:3000
  php:
    - api.demo-vascomm-store.lndo.site
  pma:
    - pma.demo-vascomm-store.lndo.site
  mailhog:
    - mailhog.demo-vascomm-store.lndo.site
  swagger:
    - swagger.demo-vascomm-store.lndo.site
